{"pageProps":{"article":{"id":"probabilistic-method/coupon-collector-1","filePath":"/home/runner/work/tglanz.github.io/tglanz.github.io/content/probabilistic-method/coupon-collector-1.md","metadata":{"title":"Coupons Collector 1","description":null,"priority":35,"tags":["Probabilistic Method","Probability","Algorithms"],"categories":["Computer Science","Probabilistic Method"],"toc":true},"content":{"raw":"\n# Coupons Collector\n\nThere exists $n$ types of coupons. Each box contains a single coupon of a uniformly chosen type. \n\nWe are interested in the correlection between the number of boxes we open and the probability of us acquiring every type of coupon.\n\n## Theorem\n\nIf we unbox at least $k = 2n \\ln n$ boxes, then the probability of us **not** collecting all types of coupons goes to 0 as $n$ goes to infinity.\n\n## Proof\n\nLet\n\n- $X$ be an indicator whether there are coupon types we havn't collected yet after the $k$th unboxing\n- $Y_{ij}$ be an indicator whether we havn't yet collected the $j$th coupon after the $i$th unboxing\n\nIt holds that $X = \\bigcup_{j=1}^{n} Y_{kj}$ so by the union bound we get that $Pr(X) \\leq \\sum_{j=1}^{n} Pr(Y_{kj})$. By symmetry we get that $Pr(X) \\leq n Pr(Y_{kj})$ (for some $j$).\n\nLet $Z_{ij}$ be an indicator whether coupon of type $j$ was not collected in the $i$th unboxing. Then it is true that $Y_{kj} = \\bigcap_{i=1}^{k} Z_{ij}$. Forall $k_1 \\neq k_2$ the two events $Y_{k_1j}, Y_{k_2j}$ are indepenedent so we get that $Pr(Y_{kj}) = \\prod_{i=1}^{k} Pr(Z_{ij})$. By uniformity we get that $Pr(Z_{ij}) = 1 - \\frac{1}{n}$ and therefore $Pr(Y_{kj}) = (1 - \\frac{1}{n})^k$.\n\nOverall we get that\n\n$$\n    Pr(X) \\leq n Pr(Y_{kj}) = n(1 - \\frac{1}{n})^k\n$$\n\nFrom exponential inequalities\n\n$$\n    Pr(X) \\leq n e^{-\\frac{k}{n}}\n$$\n\nWe substitue back $k = 2n \\ln n$ and get that\n\n$$\n    Pr(X) \\leq n e^{-\\frac{2n\\ln n}{n}} = \\frac{n}{n^2} = \\frac{1}{n} \\implies 0\n$$\n","html":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n  </head>\n  <body>\n    <nav class=\"toc\">\n      <ol class=\"toc-level toc-level-1\">\n        <li class=\"toc-item toc-item-h1\"><a class=\"toc-link toc-link-h1\" href=\"#coupons-collector\">Coupons Collector</a>\n          <ol class=\"toc-level toc-level-2\">\n            <li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#theorem\">Theorem</a></li>\n            <li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#proof\">Proof</a></li>\n          </ol>\n        </li>\n      </ol>\n    </nav>\n    <h1 id=\"coupons-collector\">Coupons Collector</h1>\n    <p>There exists $n$ types of coupons. Each box contains a single coupon of a uniformly chosen type.</p>\n    <p>We are interested in the correlection between the number of boxes we open and the probability of us acquiring every type of coupon.</p>\n    <h2 id=\"theorem\">Theorem</h2>\n    <p>If we unbox at least $k = 2n \\ln n$ boxes, then the probability of us <strong>not</strong> collecting all types of coupons goes to 0 as $n$ goes to infinity.</p>\n    <h2 id=\"proof\">Proof</h2>\n    <p>Let</p>\n    <ul>\n      <li>$X$ be an indicator whether there are coupon types we havn't collected yet after the $k$th unboxing</li>\n      <li>$Y_{ij}$ be an indicator whether we havn't yet collected the $j$th coupon after the $i$th unboxing</li>\n    </ul>\n    <p>It holds that $X = \\bigcup_{j=1}^{n} Y_{kj}$ so by the union bound we get that $Pr(X) \\leq \\sum_{j=1}^{n} Pr(Y_{kj})$. By symmetry we get that $Pr(X) \\leq n Pr(Y_{kj})$ (for some $j$).</p>\n    <p>Let $Z_{ij}$ be an indicator whether coupon of type $j$ was not collected in the $i$th unboxing. Then it is true that $Y_{kj} = \\bigcap_{i=1}^{k} Z_{ij}$. Forall $k_1 \\neq k_2$ the two events $Y_{k_1j}, Y_{k_2j}$ are indepenedent so we get that $Pr(Y_{kj}) = \\prod_{i=1}^{k} Pr(Z_{ij})$. By uniformity we get that $Pr(Z_{ij}) = 1 - \\frac{1}{n}$ and therefore $Pr(Y_{kj}) = (1 - \\frac{1}{n})^k$.</p>\n    <p>Overall we get that</p>\n    <p>\n      $$\n      Pr(X) \\leq n Pr(Y_{kj}) = n(1 - \\frac{1}{n})^k\n      $$\n    </p>\n    <p>From exponential inequalities</p>\n    <p>\n      $$\n      Pr(X) \\leq n e^{-\\frac{k}{n}}\n      $$\n    </p>\n    <p>We substitue back $k = 2n \\ln n$ and get that</p>\n    <p>\n      $$\n      Pr(X) \\leq n e^{-\\frac{2n\\ln n}{n}} = \\frac{n}{n^2} = \\frac{1}{n} \\implies 0\n      $$\n    </p>\n  </body>\n</html>\n"}}},"__N_SSG":true}