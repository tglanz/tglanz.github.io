{"pageProps":{"article":{"id":"aws/kinesis","filePath":"/home/runner/work/tglanz.github.io/tglanz.github.io/content/aws/kinesis.md","metadata":{"title":"AWS, Kinesis","description":null,"priority":0,"tags":["Cheatsheet"],"categories":["AWS"],"toc":true},"content":{"raw":"\nList streams\n\n    aws kinesis list-streams\n\nDescribe a _Stream_, listing it's _Shards_, _Stream's_ ARN, current _SequenceNumbers_ etc...\n\n    aws kinesis list-streams --stream-name {stream-name}\n\nTo list the consumers/producers of a given _Stream_\n\n    aws kinesis list-stream-consumers --stream-arn {stream-arn}\n\n## Getting records\n\n_ShardIterator_ is an object used to iterate _Records_ within a specific _Shard_. So, in order to get a _Shard's_ _Records_ we need to acquire a reference to a specific _ShardIterator_.\n\n    aws kines get-shard-iterator --stream-name {stream-name} --shard-id {shard-id} --shard-iterator-type {shard-iterator-type}\n\nThe ```shard-iterator-type``` has multiple choices, advise the documentation for those.\n\nThe ```get-shard-iterator``` command provided us with an identifier of the _ShardIterator_, we can use it to get _Records_ using\n\n    aws kinesis get-records --shard-iterator {shard-iterator}\n","html":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n  </head>\n  <body>\n    <nav class=\"toc\">\n      <ol class=\"toc-level toc-level-1\">\n        <li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#getting-records\">Getting records</a></li>\n      </ol>\n    </nav>\n    <p>List streams</p>\n    <pre><code class=\"hljs language-dsconfig\"><span class=\"hljs-string\">aws</span> <span class=\"hljs-string\">kinesis</span> <span class=\"hljs-built_in\">list-streams</span>\n</code></pre>\n    <p>Describe a <em>Stream</em>, listing it's <em>Shards</em>, <em>Stream's</em> ARN, current <em>SequenceNumbers</em> etc...</p>\n    <pre><code class=\"hljs language-dsconfig\"><span class=\"hljs-string\">aws</span> <span class=\"hljs-string\">kinesis</span> <span class=\"hljs-built_in\">list-streams</span> <span class=\"hljs-built_in\">--stream-name</span> {<span class=\"hljs-string\">stream-name</span>}\n</code></pre>\n    <p>To list the consumers/producers of a given <em>Stream</em></p>\n    <pre><code class=\"hljs language-dsconfig\"><span class=\"hljs-string\">aws</span> <span class=\"hljs-string\">kinesis</span> <span class=\"hljs-built_in\">list-stream-consumers</span> <span class=\"hljs-built_in\">--stream-arn</span> {<span class=\"hljs-string\">stream-arn</span>}\n</code></pre>\n    <h2 id=\"getting-records\">Getting records</h2>\n    <p><em>ShardIterator</em> is an object used to iterate <em>Records</em> within a specific <em>Shard</em>. So, in order to get a <em>Shard's</em> <em>Records</em> we need to acquire a reference to a specific <em>ShardIterator</em>.</p>\n    <pre><code class=\"hljs language-dsconfig\"><span class=\"hljs-string\">aws</span> <span class=\"hljs-string\">kines</span> <span class=\"hljs-built_in\">get-shard-iterator</span> <span class=\"hljs-built_in\">--stream-name</span> {<span class=\"hljs-string\">stream-name</span>} <span class=\"hljs-built_in\">--shard-id</span> {<span class=\"hljs-string\">shard-id</span>} <span class=\"hljs-built_in\">--shard-iterator-type</span> {<span class=\"hljs-string\">shard-iterator-type</span>}\n</code></pre>\n    <p>The <code>shard-iterator-type</code> has multiple choices, advise the documentation for those.</p>\n    <p>The <code>get-shard-iterator</code> command provided us with an identifier of the <em>ShardIterator</em>, we can use it to get <em>Records</em> using</p>\n    <pre><code class=\"hljs language-dsconfig\"><span class=\"hljs-string\">aws</span> <span class=\"hljs-string\">kinesis</span> <span class=\"hljs-built_in\">get-records</span> <span class=\"hljs-built_in\">--shard-iterator</span> {<span class=\"hljs-string\">shard-iterator</span>}\n</code></pre>\n  </body>\n</html>\n"}}},"__N_SSG":true}