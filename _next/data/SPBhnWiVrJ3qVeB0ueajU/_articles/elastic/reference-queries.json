{"pageProps":{"article":{"id":"elastic/reference-queries","filePath":"/home/runner/work/tglanz.github.io/tglanz.github.io/content/elastic/reference-queries.md","metadata":{"title":"Elasticsearch, Reference Queries","description":null,"permalink":null,"priority":0,"tags":["Elastissearch"],"categories":["Elasticsearch"]},"content":{"raw":"\n# Reference Queries\n\nCount docs in ```some-index```\n\n```GET some-index/_count```\n\nFind min of ```field-a``` and max of ```field-b``` in ```some-index```\n\n```\nPOST some-index/_search\n{\n  \"size\": 0,\n  \"aggs\": {\n    \"min-field-a\": {\n      \"min\": {\n        \"field\": \"field-a\"\n      }\n    },\n    \"max-field-b\": {\n      \"max\": {\n        \"field\": \"field-b\"\n      }\n    }\n  }\n}\n```\n\nDelete by query - where ```x = 1```.\n\n```\nPOST some-index/_delete_by_query\n{\n  \"query\": {\n    \"match\": {\n      \"x\": 1\n    }\n  }\n}\n```","html":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n  </head>\n  <body>\n    <h1>Reference Queries</h1>\n    <p>Count docs in <code>some-index</code></p>\n    <p><code>GET some-index/_count</code></p>\n    <p>Find min of <code>field-a</code> and max of <code>field-b</code> in <code>some-index</code></p>\n    <pre><code class=\"hljs language-properties\"><span class=\"hljs-attr\">POST</span> <span class=\"hljs-string\">some-index/_search</span>\n<span class=\"hljs-attr\">{</span>\n  <span class=\"hljs-attr\">\"size\"</span>: <span class=\"hljs-string\">0,</span>\n  <span class=\"hljs-attr\">\"aggs\"</span>: <span class=\"hljs-string\">{</span>\n    <span class=\"hljs-attr\">\"min-field-a\"</span>: <span class=\"hljs-string\">{</span>\n      <span class=\"hljs-attr\">\"min\"</span>: <span class=\"hljs-string\">{</span>\n        <span class=\"hljs-attr\">\"field\"</span>: <span class=\"hljs-string\">\"field-a\"</span>\n      <span class=\"hljs-attr\">}</span>\n    <span class=\"hljs-attr\">},</span>\n    <span class=\"hljs-attr\">\"max-field-b\"</span>: <span class=\"hljs-string\">{</span>\n      <span class=\"hljs-attr\">\"max\"</span>: <span class=\"hljs-string\">{</span>\n        <span class=\"hljs-attr\">\"field\"</span>: <span class=\"hljs-string\">\"field-b\"</span>\n      <span class=\"hljs-attr\">}</span>\n    <span class=\"hljs-attr\">}</span>\n  <span class=\"hljs-attr\">}</span>\n<span class=\"hljs-attr\">}</span>\n</code></pre>\n    <p>Delete by query - where <code>x = 1</code>.</p>\n    <pre><code class=\"hljs language-properties\"><span class=\"hljs-attr\">POST</span> <span class=\"hljs-string\">some-index/_delete_by_query</span>\n<span class=\"hljs-attr\">{</span>\n  <span class=\"hljs-attr\">\"query\"</span>: <span class=\"hljs-string\">{</span>\n    <span class=\"hljs-attr\">\"match\"</span>: <span class=\"hljs-string\">{</span>\n      <span class=\"hljs-attr\">\"x\"</span>: <span class=\"hljs-string\">1</span>\n    <span class=\"hljs-attr\">}</span>\n  <span class=\"hljs-attr\">}</span>\n<span class=\"hljs-attr\">}</span>\n</code></pre>\n  </body>\n</html>\n"}}},"__N_SSG":true}