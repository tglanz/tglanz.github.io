{"pageProps":{"article":{"id":"posts/timescale","filePath":"/home/runner/work/tglanz.github.io/tglanz.github.io/content/posts/timescale.md","metadata":{"title":"Timescale","description":null,"permalink":null,"priority":0,"tags":["Notes"],"categories":[]},"content":{"raw":"\nTimescale is a time series optimized system built on top of posgres.\n\nIt provides pg extensions\n\n- timescaledb\n- timescaledb_toolkit\n\nOne can perhaps even use the ```promscale``` extension\n\n# Hypertables\n\nHypertables are the core construct behind timescale.\n\nPractically, the Hypertable is an abstraction of multiple tables, called Chunks.\n\nA Hypertable replaces a standard Postgres table and partition it by time, and potentially by space.\n\n## Creating a hypertable\n\nA Hypertable imposes the criteria that the column we partition by will included in all UNIQUE or PRIMARY indexes.\n\nTake the following table\n\n```sql\nCREATE TABLE events (\n    id SERIAL,\n    name VARCHAR,\n    timestamp timestamptz,\n    domain VARCHAR\n);\n```\n\nTo create a Hypertable, partitioning by ```timestamp```, with chunk sizes of 1 week each, with a space partition using ```domain``` we use\n\n```sql\nselect create_hypertable(\n    'event', 'timestamp',\n    partitioning_column => 'domain',\n    number_partitions => 10);\n``` \n\nAdditional parameters and information can be found [In the docs](https://docs.timescale.com/api/latest/hypertable/create_hypertable/#create-hypertable)\n","html":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n  </head>\n  <body>\n    <nav class=\"toc\">\n      <ol class=\"toc-level toc-level-1\">\n        <li class=\"toc-item toc-item-h1\"><a class=\"toc-link toc-link-h1\" href=\"#hypertables\">Hypertables</a>\n          <ol class=\"toc-level toc-level-2\">\n            <li class=\"toc-item toc-item-h2\"><a class=\"toc-link toc-link-h2\" href=\"#creating-a-hypertable\">Creating a hypertable</a></li>\n          </ol>\n        </li>\n      </ol>\n    </nav>\n    <p>Timescale is a time series optimized system built on top of posgres.</p>\n    <p>It provides pg extensions</p>\n    <ul>\n      <li>timescaledb</li>\n      <li>timescaledb_toolkit</li>\n    </ul>\n    <p>One can perhaps even use the <code>promscale</code> extension</p>\n    <h1 id=\"hypertables\">Hypertables</h1>\n    <p>Hypertables are the core construct behind timescale.</p>\n    <p>Practically, the Hypertable is an abstraction of multiple tables, called Chunks.</p>\n    <p>A Hypertable replaces a standard Postgres table and partition it by time, and potentially by space.</p>\n    <h2 id=\"creating-a-hypertable\">Creating a hypertable</h2>\n    <p>A Hypertable imposes the criteria that the column we partition by will included in all UNIQUE or PRIMARY indexes.</p>\n    <p>Take the following table</p>\n    <pre><code class=\"hljs language-sql\"><span class=\"hljs-keyword\">CREATE</span> <span class=\"hljs-keyword\">TABLE</span> events (\n    id SERIAL,\n    name <span class=\"hljs-type\">VARCHAR</span>,\n    <span class=\"hljs-type\">timestamp</span> timestamptz,\n    domain <span class=\"hljs-type\">VARCHAR</span>\n);\n</code></pre>\n    <p>To create a Hypertable, partitioning by <code>timestamp</code>, with chunk sizes of 1 week each, with a space partition using <code>domain</code> we use</p>\n    <pre><code class=\"hljs language-sql\"><span class=\"hljs-keyword\">select</span> create_hypertable(\n    <span class=\"hljs-string\">'event'</span>, <span class=\"hljs-string\">'timestamp'</span>,\n    partitioning_column <span class=\"hljs-operator\">=</span><span class=\"hljs-operator\">></span> <span class=\"hljs-string\">'domain'</span>,\n    number_partitions <span class=\"hljs-operator\">=</span><span class=\"hljs-operator\">></span> <span class=\"hljs-number\">10</span>);\n</code></pre>\n    <p>Additional parameters and information can be found <a href=\"https://docs.timescale.com/api/latest/hypertable/create_hypertable/#create-hypertable\">In the docs</a></p>\n  </body>\n</html>\n"}}},"__N_SSG":true}